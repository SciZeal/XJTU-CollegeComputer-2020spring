[TOC]

# 引言

## 计算机系统

### 软件系统

-   系统软件
-   应用软件

### 硬件系统

-   外部设备: 所有可以**通过输入输出接口**与计算机进行信息交换的电子设备
-   主机系统

## 主机系统

### 微处理器(CPU)

>   核心. 提供**运算和控制**功能.

-   运算器
    -   核心: 算术逻辑单元(ALU)
-   控制器(CU)
-   寄存器组(Registers)
    -   通用寄存器组
    -   堆栈指针(SP)
    -   **程序计数器(PC)**

### 存储器

>   存储容量(Byte) / 读写

-   内存储器
    -   速度快, 容量小
    -   一个内存单元存放 1Byte 数据, 内存单元个数称为内存容量
    -   随机存储器 RAM: 随时存取, 需后备电源
    -   只读存储器 ROM: 有条件存取, 无需后备电源
-   外存储器
    -   脱机外存
    -   联机外存
        -   硬磁盘: 用于信息的长期存储
            
            >   磁盘存储容量 = 磁头数(盘片面数) × 磁道数(每面柱面数) × 扇区数 × 扇区容量(512Bytes)

### 总线

-   CPU总线
-   系统总线
-   外设总线
>   总线带宽: 单位时间内总线上可传输的数据量(B/s)
>
>   带宽 = (位宽 / 8) × 工作频率

### 输入 / 输出接口

>   CPU 与外部设备之间的桥梁

- 实现主机与外设间的运行匹配
- 对外设的控制管理

:warning:**能与CPU<u>直接进行信息交换</u>的部件属于主机系统, 不能与CPU直接进行信息交换的部件属于外部设备!**

## 图灵模型与计算

>   图灵(Alan Turing): 英国数学家, 逻辑学家.

### 图灵机

组成:
-   一条无限长纸带
-   一个读写头
-   一组内部状态
-   一套控制规则

:warning:**工作状态取决于规则和内部状态!**

:warning:**任何不能被图灵机解决的问题都是不可计算问题!**

计算机不能解决的问题:

1. 不能解决在有限步骤内无法被解决的问题；
2. 虽然有可能解决, 但因过于复杂而不能在可接受的时间内解决的问题.

# 信息表示与二进制计算

## 信息单位

-   bit(b)
-   Byte(B) = 8 bits

## 计算机的字长

>   字长: 计算机一次能够同时（并行）处理的二进制位

字长越长，计算机处理数据的速度就越快.

## 常用计数制

-   十进制 Decimal
-   二进制 Binary
-   十六进制 Hexadecimal
-   八进制 Octonary

`100,000 D ==> 1 1000 0110 1010 0000 B ==> 186A0 H`

## 二进制数的表示

-   浮点数

-   定点数

-   机器数

    >   正数: 原码 = 反码 = 补码
    >
    >   负数:
    >
    >   -   反码 = 符号位不变, 数值为取反
    >   -   补码 = 符号位不变, 数值为取反加一

## 编码

### 西文编码

-   标准 ASCII 码

    7 位表示 128 字符

-   扩展 ASCII 码

    8 位表示 256 字符

-   Unicode / UTF - 8

### 汉字编码

-   外码

    -   输入码

-   机内码

    -   国标码 (GB2312 / GBK)

        >   由连续的 2 个字节组成, 每个字节 7 位有效, 最高位为 1

    -   Unicode

    -   BIG5

-   字形码

    -   点阵形式表示汉字

-   矢量汉字

## 多媒体信息表示

### 声音信号的数字化

1.  采样 (采样频率)

>   奈奎斯特理论: 采样频率不低于信号最高频率两倍

2.  量化 (采样精度 / 样本位数 / 位深度)

3.  编码

-   声音文件的数据量 = 采样频率 × 样本精度 × 声道数 × 时间

### 图像的数字化

1.  采样 (图像分辨率 = 行数 × 列数)

2.  量化 (像素深度 / 位深度)

    >   1 位: 黑白
    >
    >   4 位: 16 级灰度图像
    >
    >   8 位: 256 级灰度图像
    >
    >   24 位: 真彩色图像

3.  编码

-   图像文件大小 = 像素数 × 位深度
-   图像的文件格式: bmp, gif, jpeg
-   矢量图

# 系统软硬件构造

## 逻辑运算和逻辑门

布尔代数

>   英国数学家 乔治 · 布尔

-   "0" 对应 "假", "1" 对应 "真"

-   "与": $\land~|~\cdot~|~\fbox&$
-   "或": $\lor~|~+~|~\fbox{$\geqslant1$}$
-   "非": $\overline{A}~|~\fbox{1}\bullet$
-   "异或": $F=\overline{A}\cdot B+A\cdot\overline{B}=A\bigoplus B~|~\fbox{=1}$
-   "同或": $F=\overline{A\bigoplus B}~|~\fbox{=1}\bullet$

## 其他逻辑电路

逻辑电路: 以二进制为原理, 由各种逻辑门构成, 实现数字信号逻辑运算和操作的电路.

-   组合逻辑电路 (无记忆)
-   时序逻辑电路 (有记忆)

### 触发器和加法器

-   触发器: 时序逻辑电路
    -   有触发信号时. 输出端状态反转
    -   RS 触发器 → D 触发器

-   加法器
    -   算术逻辑单元 (ALU) 的基本功能部件
    -   **半加器:** 不考虑低位进位, 但传递进位信息
    -   **全加器:** 考虑低位进位, 同时传递进位信息

### 从逻辑门到运算器

-   **运算器:** 与控制器共同组成了CPU的核心部分

    主要功能:

    -   算术, 逻辑运算, 移位, 求补 (**算术逻辑单元 ALU** 完成)
    -   暂时存放参加运算的数据和中间运算结果 (寄存器完成)

-   **寄存器:** 存放中间运算结果或其它二进制信息

    组成: 触发器和门电路 (一个触发器存放一位二进制码)

## 冯·诺伊曼结构及原理

>   冯·诺依曼 (匈牙利) 提出了现代计算机的体系结构

1.  采用二进制
2.  设计计算机硬件由五个部分组成
    -   运算器
    -   逻辑控制装置
    -   存储器
    -   输入和输出设备
3.  提出存储程序原理

### 指令和程序

-   指令:
    -   指令码: 说明指令功能
    -   操作数: 说明指令操作对象
-   程序: 按一定顺序组织在一起的指令序列

<u>**取指令**</u> $\to$ <u>**分析指令**</u> $\to$ 读取操作数 $\to$ **<u>执行指令</u>** $\to$ 存放结果

-   顺序执行
-   并行执行 (真 · 同时)

### 冯·诺伊曼结构

-   结构特点: 以**运算器**为核心, 所有信息的输入和输出都需要通过运算器
-   基本原理: 存储程序原理
-   **程序计数器PC**: 执行完一条指令后PC中储存的指令地址++
-   局限性
    -   CPU 与存储器大量数据交互, 总线瓶颈;
    -   只能逐条执行;
    -   大型, 复杂任务难以执行
    -   以运算器为核心使得非数值数据处理效率低

### 哈佛结构

-   结构特点:
    -   指令和数据分别存放在两个独立的存储器模块中
    -   CPU 与存储器间指令和数据的传送分别采用两组独立的总线

![harvard](img/harvard.svg)

# 操作系统基础

## 简介

>   一组控制和管理计算机软, 硬件资源, 为用户提供便捷使用计算机的程序集合.

$$
\fbox{$~\phantom{憨批大计!!}窗口软件\\\fbox{$~\phantom{熬夜偷学!}文件管理\\\fbox{$\phantom{卷}I/O设备管理,存储管理\phantom{卷}\\\phantom{juan}\fbox{计算机硬件系统}$}$}$}\notag
$$

:warning:**基本目的: 实现在不同环境下为不同应用目的提供不同形式和不同效率的资源管理, 以满足不同用户的操作需要**

### 作用

-   作为用户和计算机硬件之间的接口;
-   对硬件系统功能的扩充;
-   管理系统资源.

### 五大基本功能

-   用户接口
-   设备管理
-   存储器管理
-   处理器管理
-   文件管理

### 分类

-   批处理系统
-   **分时操作系统** (多用户共享主机: CPU切片分给队列中的程序)
-   嵌入式操作系统
-   ......

## 处理器管理

>   处理器管理的核心就是**进程管理**.

多道程序在计算机中的执行方式:

-   顺序执行 (结果可再现)
-   **并发执行** (结果不可再现)

>   **进程:** 程序的一次执行过程; 是系统内部资源分配和管理的基本单位.

:warning:**一个程序可以对应多个进程, 一个进程也可以对应多个程序!**

进程有三种状态 (执行过程是间断性的):

1.  就绪状态

2.  运行状态

3.  等待状态

    >   当所需资源不能得到满足时, 当前进程将会被挂起.

进程的组成:

-   程序块
-   数据集合
-   **进程控制块 PCB** (记录各种信息, 确保结果可再现)

## 存储器管理

### 用户程序的处理步骤

1.  程序及数据以文件形式存放在外存
2.  程序必须调入内存才能被计算机执行

![userProgram](img/userProgram.svg)

### 主要功能

-   将程序从联机外存调入内存

    -   地址变换

        >   程序符号地址 → 目标程序逻辑地址(从0开始) → 内存物理地址
        >
        >   **动态地址重定位**

    -   存储分配

-   将硬盘和内存实行统一管理

    -   存储扩充 (在有限的内存空间中处理大于内存的程序)
        -   "自动覆盖" 技术
        -   "交换" 技术
        -   **"虚拟存储" 技术:** 内存与部分联机外存统一在一起管理

-   存储保护

    -   不同类型的程序存储在不同的区域中

    -   确保各类程序在各自的存储区内独立运行, 互不干扰

        $\fbox{系统区域}\!|\!\fbox{用户区域}$

### 存储系统

>   两个及以上的存储器相结合, 从而扩充容量, 提升速度, 降低价格

-   cache 存储器系统 (提速): 高速缓冲存储器 (cache) + 主内存
![cache](img/cache.svg)
-   虚拟存储器系统 (扩容): 内存 + 部分联机外存

## 文件管理

-   逻辑结构: 面向用户的文件结构
-   物理结构: 文件在外存中的组织形式
-   目录结构: 文件名与文件的物理位置对应, 实现 "按名存取" (树形结构)

# 网络技术及其应用

## 概述

### 组成

-   网络硬件
    -   网络节点
        -   端节点: 主机, 终端设备
        -   转接节点: 交换机, 路由器
    -   通信链路
        -   金属导体: 双绞线, 同轴电缆
        -   光纤
        -   无线介质: 无线电, 微波, 卫星
-   网络软件
    -   协议软件
    -   网络操作系统
    -   客户端软件
    -   工具软件

### 分类

-   按地域范围:
    -   局域网
    -   城域网
    -   广域网
-   按拓扑结构:
    -   星形
    -   树形
    -   环形
    -   总线

### 应用模式

-   C / S (Client / Server)
-   B / S (Browser / Server)
-   P2P (Peer to Peer)

### 网络体系结构和协议

分层结构: 不同层具有不同的通信协议

对等层: 两个不同系统的同名层次

网络协议三要素: 语法, 语义, 规则

**TCP / IP 协议:**

-   应用层: 支持网络应用
-   传输层: 数据传递(TCP / UDP)
-   网络层: 建立通信连接(IP)
-   网络接口层(数据链路层 + 物理层)

数据封装: $\fbox{帧头$$}\!|\!\fbox{IP头 $\fbox{TCP头 $\fbox{应用层数据}$}$}\!|\!\fbox{帧尾}$

### 路由器

-   用于连接多个逻辑上分开的网络设备
-   把数据从一个子网传输到另一个子网
-   有多个输入端口和多个输出端口
-   工作于网络层

**功能:**

-   路由选择
-   分组转发

>   每个路由器中都有一张路由表

## 地址

### IP地址

-   每台连接到因特网上的主机在全球惟一的标识符, 是一个逻辑地址

-   `00001010 00000010 00000000 00000001` 即为 `10.2.0.1`

-   $\fbox{网络号}\!|\!\fbox{$~~~~~主机号~~~~~$}$

    >   主机地址不能全为 0 或全为 1

**A 类地址:**

-   $\fbox{0}\!|\!\fbox{网络号(7 bits)}\!|\!\fbox{主机号(24 bits)}$
-   网络地址 $2^7-2$
-   主机个数 $2^{24}-2$
-   地址范围: `1|0.0.0 ~ 126|255.255.255`

**B 类地址:**

-   $\fbox{10}\!|\!\fbox{网络号(14 bits)}\!|\!\fbox{主机号(16 bits)}$
-   网络地址 $2^{14}-2$
-   主机个数 $2^{16}-2$
-   地址范围: `128.0|0.0 ~ 191.255|255.255`

**C 类地址:**

-   $\fbox{110}\!|\!\fbox{网络号(21 bits)}\!|\!\fbox{主机号(8 bits)}$
-   网络地址 $2^{21}-2$
-   主机个数 $2^8-2$
-   地址范围: `192.0.0|0 ~ 223.255.255|255`

>   网络地址 - 全为 0 为保留地址, 全为 1 用于本机软件回路测试
>
>   主机地址 - 全为 0 表示本主机, 全为 1 表示所有主机

**子网:**

-   三级 IP 地址: $\fbox{网络号}\!|\!\fbox{子网号}\!|\!\fbox{主机号}$
-   子网号由主机号分出
-   子网号不能全为 1 或者全为 0
-   $n$ 位子网号可划分 $2^n-2$ 个子网

**子网掩码:**

-   网络号和子网号全为 1
-   主机号全为 0
-   子网掩码 $\land$ IP地址 = IP地址的网络号

:warning:**不在同一子网内的主机需要路由器 (或网关) 实现互联!**

**缺省网关地址:**

-   缺省网关地址指定了本地子网中路由器的 IP 地址
-   当发送数据的计算机发现目的地址不在本地子网内, 就将数据发送给缺省网关,而不是直接向目的计算机发送

### MAC地址

-   48 位, 前 24 位为厂商标识, 后 24 位为产品序列号

>   IP地址与MAC地址的区别
>
>   -   MAC地址在数据链路层使用, IP地址在网络层使用
>   -   IP地址需要转换为主机的MAC地址(通过ARP协议)才能进行实际传输

### 端口

-   一个 IP 地址可以有 $2^{16}$ 个端口
-   主机通过 "IP 地址 + 端口号" 区分不同的服务

![port](img/port.svg)

### 域名

>   DNS系统 (Domain Name System)

`jwc.xjtu.edu.cn`

-   一级域名 `cn`
-   二级域名 `edu`
-   三级域名 `xjtu`
-   四级域名 `jwc`

## 应用

### 电子邮件

组成:

-   用户代理

-   电子邮件协议

    -   发送: SMTP

    -   接收: POP3 / IMAP4

        >   基于传输层的 TCP 协议

-   邮件服务器

### 万维网

>   是基于因特网的**超文本信息系统**

组成:

-   浏览器
-   Web 服务器
-   **HTTP 协议** (超文本传输协议)
    -   基于传输层的 TCP 协议, 默认端口号 80
    -   统一资源定位符URL: `http://<主机>:<端口>/<路径>`

### 文件传输

**FTP协议:**

>   基于传输层的 TCP 协议, 应用模式为 C / S

-   控制连接(传送控制信息): FTP服务器21号端口
-   数据连接(传送数据信息): FTP服务器20号端口







